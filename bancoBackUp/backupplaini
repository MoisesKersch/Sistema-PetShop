--
-- PostgreSQL database dump
--

-- Dumped from database version 9.6.11
-- Dumped by pg_dump version 9.6.11

-- Started on 2018-11-25 20:34:09 -02

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET client_min_messages = warning;
SET row_security = off;

--
-- TOC entry 1 (class 3079 OID 12394)
-- Name: plpgsql; Type: EXTENSION; Schema: -; Owner: 
--

CREATE EXTENSION IF NOT EXISTS plpgsql WITH SCHEMA pg_catalog;


--
-- TOC entry 2233 (class 0 OID 0)
-- Dependencies: 1
-- Name: EXTENSION plpgsql; Type: COMMENT; Schema: -; Owner: 
--

COMMENT ON EXTENSION plpgsql IS 'PL/pgSQL procedural language';


SET default_tablespace = '';

SET default_with_oids = false;

--
-- TOC entry 185 (class 1259 OID 16992)
-- Name: animal; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.animal (
    animal_id bigint NOT NULL,
    cor character varying(255),
    data_nascimento timestamp without time zone,
    especie character varying(255) NOT NULL,
    observacao character varying(255),
    pedigree character varying(255),
    peso numeric(19,2),
    raca character varying(255),
    sexo character varying(255) NOT NULL,
    tipo character varying(255) NOT NULL,
    usuario_id bigint,
    nome character varying(255)
);


ALTER TABLE public.animal OWNER TO postgres;

--
-- TOC entry 186 (class 1259 OID 16998)
-- Name: empresa; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.empresa (
    empresa_id bigint NOT NULL,
    cnpj character varying(255) NOT NULL,
    cpf_representante_legal character varying(255),
    inscricao_estadual character varying(255) NOT NULL,
    nome character varying(255) NOT NULL,
    razao_social character varying(255) NOT NULL,
    representante_legal character varying(255) NOT NULL
);


ALTER TABLE public.empresa OWNER TO postgres;

--
-- TOC entry 187 (class 1259 OID 17004)
-- Name: empresa_endereco; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.empresa_endereco (
    empresa_id bigint NOT NULL,
    endereco_id bigint NOT NULL
);


ALTER TABLE public.empresa_endereco OWNER TO postgres;

--
-- TOC entry 188 (class 1259 OID 17007)
-- Name: endereco; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.endereco (
    endereco_id bigint NOT NULL,
    bairro character varying(255),
    cidade character varying(255),
    complemento character varying(255),
    numero bigint,
    rua character varying(255),
    uf character varying(255)
);


ALTER TABLE public.endereco OWNER TO postgres;

--
-- TOC entry 189 (class 1259 OID 17013)
-- Name: hibernate_sequence; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public.hibernate_sequence
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.hibernate_sequence OWNER TO postgres;

--
-- TOC entry 190 (class 1259 OID 17015)
-- Name: ordem_servico; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.ordem_servico (
    ordem_servico_id bigint NOT NULL,
    data_reservada timestamp without time zone NOT NULL,
    observacao character varying(255) NOT NULL,
    status character varying(255) NOT NULL,
    animal_id bigint NOT NULL,
    empresa_id bigint NOT NULL,
    servico_id bigint NOT NULL,
    usuario_id bigint NOT NULL
);


ALTER TABLE public.ordem_servico OWNER TO postgres;

--
-- TOC entry 191 (class 1259 OID 17021)
-- Name: role; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.role (
    role_id integer NOT NULL,
    role character varying(255)
);


ALTER TABLE public.role OWNER TO postgres;

--
-- TOC entry 192 (class 1259 OID 17024)
-- Name: servico; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.servico (
    servico_id bigint NOT NULL,
    descricao character varying NOT NULL,
    nome character varying(255) NOT NULL,
    valor numeric(19,2) NOT NULL,
    empresa_id bigint,
    servico_categoria_id bigint,
    imagem character varying(255),
    url_magem character varying(255),
    imagem_url character varying(255)
);


ALTER TABLE public.servico OWNER TO postgres;

--
-- TOC entry 193 (class 1259 OID 17030)
-- Name: servico_categoria; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.servico_categoria (
    servico_categoria_id bigint NOT NULL,
    descricao character varying(255),
    nome character varying(255) NOT NULL,
    empresa_id bigint
);


ALTER TABLE public.servico_categoria OWNER TO postgres;

--
-- TOC entry 194 (class 1259 OID 17036)
-- Name: user_role; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.user_role (
    usuario_id bigint NOT NULL,
    role_id integer NOT NULL
);


ALTER TABLE public.user_role OWNER TO postgres;

--
-- TOC entry 195 (class 1259 OID 17039)
-- Name: usuario; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.usuario (
    usuario_id bigint NOT NULL,
    ativo integer,
    cpf bigint NOT NULL,
    email character varying(255) NOT NULL,
    login character varying(255) NOT NULL,
    nome character varying(255) NOT NULL,
    senha character varying(255) NOT NULL,
    empresa_id bigint
);


ALTER TABLE public.usuario OWNER TO postgres;

--
-- TOC entry 196 (class 1259 OID 17045)
-- Name: usuario_empresa; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.usuario_empresa (
    usuario_id bigint NOT NULL,
    empresa_id bigint NOT NULL
);


ALTER TABLE public.usuario_empresa OWNER TO postgres;

--
-- TOC entry 197 (class 1259 OID 17048)
-- Name: usuario_endereco; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.usuario_endereco (
    usuario_id bigint NOT NULL,
    endereco_id bigint NOT NULL
);


ALTER TABLE public.usuario_endereco OWNER TO postgres;

--
-- TOC entry 2213 (class 0 OID 16992)
-- Dependencies: 185
-- Data for Name: animal; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.animal (animal_id, cor, data_nascimento, especie, observacao, pedigree, peso, raca, sexo, tipo, usuario_id, nome) FROM stdin;
8	branca	1111-11-11 00:00:00	canino	meu cachorro	Sim	1.00	Vira Lata	M	1	3	Joselito
19	1	1111-11-11 00:00:00	1	1	Sim	1.00	1	M	1	3	1
\.


--
-- TOC entry 2214 (class 0 OID 16998)
-- Dependencies: 186
-- Data for Name: empresa; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.empresa (empresa_id, cnpj, cpf_representante_legal, inscricao_estadual, nome, razao_social, representante_legal) FROM stdin;
1	1	1	1	1	1	1
\.


--
-- TOC entry 2215 (class 0 OID 17004)
-- Dependencies: 187
-- Data for Name: empresa_endereco; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.empresa_endereco (empresa_id, endereco_id) FROM stdin;
\.


--
-- TOC entry 2216 (class 0 OID 17007)
-- Dependencies: 188
-- Data for Name: endereco; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.endereco (endereco_id, bairro, cidade, complemento, numero, rua, uf) FROM stdin;
4	1	1	1	1	1	dd
\.


--
-- TOC entry 2234 (class 0 OID 0)
-- Dependencies: 189
-- Name: hibernate_sequence; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.hibernate_sequence', 26, true);


--
-- TOC entry 2218 (class 0 OID 17015)
-- Dependencies: 190
-- Data for Name: ordem_servico; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.ordem_servico (ordem_servico_id, data_reservada, observacao, status, animal_id, empresa_id, servico_id, usuario_id) FROM stdin;
22	2018-11-25 13:48:02.586	1	aberto	8	1	10	3
23	2018-11-25 16:55:20.946	1	aberto	8	1	14	3
24	2018-11-25 17:08:13.347	1	aberto	8	1	15	3
25	2018-11-25 17:08:49.161	1	aberto	8	1	16	3
26	2018-11-25 17:09:35.641	3	aberto	8	1	17	3
\.


--
-- TOC entry 2219 (class 0 OID 17021)
-- Dependencies: 191
-- Data for Name: role; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.role (role_id, role) FROM stdin;
5	Cliente
1	Administrator
\.


--
-- TOC entry 2220 (class 0 OID 17024)
-- Dependencies: 192
-- Data for Name: servico; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.servico (servico_id, descricao, nome, valor, empresa_id, servico_categoria_id, imagem, url_magem, imagem_url) FROM stdin;
10	Feito por profissionais qualificados e com produtos próprios para animais, são utilizadas toalhas individuais, limpas e esterilizadas para cada animal, com água em temperatura adequada. Os banhos incluem limpeza de ouvidos e corte de unhas, se necessário.	Banho	40.00	1	9	\N	\N	https://www.petmd.com/sites/default/files/dog-bath-mistakes-main.jpg
14	Realizamos tosa geral, higiênica e própria da raça. Todas feitas por profissionais capacitados, buscando sempre garantir o conforto e bem estar do seu amiguinho. Todas as tosas incluem o banho. As tosas podem ser realizadas em cães, gatos, coelhos e porquinhos da Índia.	Tosa	44.00	1	9	\N	\N	https://www.chewy.com/petcentral/wp-content/uploads/2018/05/dog-grooming-things-you-should-never-do-shave-x-670-440x.jpg
15	A tosa geral é indicada especialmente em casos que há acúmulo de nós que não é possível tirar com o desembolo. Feita com máquina própria para animais, a tosa geral ajuda na transpiração do animal, colaborando para seu bem estar.	Tosa Geral	60.00	1	9	\N	\N	https://cdn0.wideopenpets.com/wp-content/uploads/2017/01/AdobeStock_124991434-770x405.jpg
16	A tosa higiênica ajuda a manter a saúde do animal por meio da prevenção do acúmulo de sujeiras em seus pelos, e abrange a barriga, região íntima, ânus e sola das patas. Em algumas raças, pode abranger também a região dos olhos e ouvidos.	Tosa higiênica	100.00	1	9	\N	\N	https://www.wideopenpets.com/wp-content/uploads/2017/01/AdobeStock_130253449-768x513.jpeg
17	Na tosa de raça é observado os padrões do desenho de cada tosa e aplicada principalmente para algumas raças como: Shih Tzu, Lhasa Apso, Spitz, Cocker, Poodle e Schnauzer. Consulte a tabela completa com todas as raças atendidas no Patinhas.	Tosa de raça	200.00	1	9	\N	\N	https://cdn0.wideopenpets.com/wp-content/uploads/2017/01/white-1019003_1920-1024x683.jpg
18	A meia tosa higiênica abrange apenas a região do ânus e é indicada para casos em que o animal não precisa de tosa higiênica completa.	Meia tosa higiênica	30.00	1	9	\N	\N	https://www.k9ofmine.com/wp-content/uploads/2017/03/dog-grooming-table-reviews.jpg
\.


--
-- TOC entry 2221 (class 0 OID 17030)
-- Dependencies: 193
-- Data for Name: servico_categoria; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.servico_categoria (servico_categoria_id, descricao, nome, empresa_id) FROM stdin;
9	Estética Animal	Estética Animal	1
\.


--
-- TOC entry 2222 (class 0 OID 17036)
-- Dependencies: 194
-- Data for Name: user_role; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.user_role (usuario_id, role_id) FROM stdin;
3	5
1	1
\.


--
-- TOC entry 2223 (class 0 OID 17039)
-- Dependencies: 195
-- Data for Name: usuario; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.usuario (usuario_id, ativo, cpf, email, login, nome, senha, empresa_id) FROM stdin;
3	0	11111111111	1	1	1	1	1
1	1	1	1	orthonn	Master Taylor	1	1
\.


--
-- TOC entry 2224 (class 0 OID 17045)
-- Dependencies: 196
-- Data for Name: usuario_empresa; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.usuario_empresa (usuario_id, empresa_id) FROM stdin;
8	1
129	1
132	1
\.


--
-- TOC entry 2225 (class 0 OID 17048)
-- Dependencies: 197
-- Data for Name: usuario_endereco; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.usuario_endereco (usuario_id, endereco_id) FROM stdin;
3	4
\.


--
-- TOC entry 2058 (class 2606 OID 17052)
-- Name: animal animal_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.animal
    ADD CONSTRAINT animal_pkey PRIMARY KEY (animal_id);


--
-- TOC entry 2060 (class 2606 OID 17054)
-- Name: empresa empresa_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.empresa
    ADD CONSTRAINT empresa_pkey PRIMARY KEY (empresa_id);


--
-- TOC entry 2064 (class 2606 OID 17056)
-- Name: endereco endereco_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.endereco
    ADD CONSTRAINT endereco_pkey PRIMARY KEY (endereco_id);


--
-- TOC entry 2066 (class 2606 OID 17058)
-- Name: ordem_servico ordem_servico_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.ordem_servico
    ADD CONSTRAINT ordem_servico_pkey PRIMARY KEY (usuario_id, servico_id);


--
-- TOC entry 2068 (class 2606 OID 17060)
-- Name: role role_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.role
    ADD CONSTRAINT role_pkey PRIMARY KEY (role_id);


--
-- TOC entry 2072 (class 2606 OID 17062)
-- Name: servico_categoria servico_categoria_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.servico_categoria
    ADD CONSTRAINT servico_categoria_pkey PRIMARY KEY (servico_categoria_id);


--
-- TOC entry 2070 (class 2606 OID 17064)
-- Name: servico servico_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.servico
    ADD CONSTRAINT servico_pkey PRIMARY KEY (servico_id);


--
-- TOC entry 2076 (class 2606 OID 17066)
-- Name: usuario uk_pm3f4m4fqv89oeeeac4tbe2f4; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.usuario
    ADD CONSTRAINT uk_pm3f4m4fqv89oeeeac4tbe2f4 UNIQUE (login);


--
-- TOC entry 2062 (class 2606 OID 17068)
-- Name: empresa_endereco uk_sgques1ssmpkxitw5ap2foxbh; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.empresa_endereco
    ADD CONSTRAINT uk_sgques1ssmpkxitw5ap2foxbh UNIQUE (endereco_id);


--
-- TOC entry 2074 (class 2606 OID 17070)
-- Name: user_role user_role_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.user_role
    ADD CONSTRAINT user_role_pkey PRIMARY KEY (usuario_id, role_id);


--
-- TOC entry 2080 (class 2606 OID 17072)
-- Name: usuario_empresa usuario_empresa_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.usuario_empresa
    ADD CONSTRAINT usuario_empresa_pkey PRIMARY KEY (usuario_id, empresa_id);


--
-- TOC entry 2078 (class 2606 OID 17074)
-- Name: usuario usuario_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.usuario
    ADD CONSTRAINT usuario_pkey PRIMARY KEY (usuario_id);


--
-- TOC entry 2088 (class 2606 OID 17075)
-- Name: servico fk2dywyklyhnl9sp0i1nqvjf95i; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.servico
    ADD CONSTRAINT fk2dywyklyhnl9sp0i1nqvjf95i FOREIGN KEY (empresa_id) REFERENCES public.empresa(empresa_id);


--
-- TOC entry 2089 (class 2606 OID 17080)
-- Name: servico fk4hrbg6dea8o0u6ffwdyshriwr; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.servico
    ADD CONSTRAINT fk4hrbg6dea8o0u6ffwdyshriwr FOREIGN KEY (servico_categoria_id) REFERENCES public.servico_categoria(servico_categoria_id);


--
-- TOC entry 2084 (class 2606 OID 17085)
-- Name: ordem_servico fk78kd0g8yd87uwjrioevg1a3qd; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.ordem_servico
    ADD CONSTRAINT fk78kd0g8yd87uwjrioevg1a3qd FOREIGN KEY (usuario_id) REFERENCES public.usuario(usuario_id);


--
-- TOC entry 2093 (class 2606 OID 17090)
-- Name: usuario fk87ckfs30l64gnivnfk7ywp8l6; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.usuario
    ADD CONSTRAINT fk87ckfs30l64gnivnfk7ywp8l6 FOREIGN KEY (empresa_id) REFERENCES public.empresa(empresa_id);


--
-- TOC entry 2085 (class 2606 OID 17095)
-- Name: ordem_servico fk9tdmykfd04quwa2xhkxh3vexr; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.ordem_servico
    ADD CONSTRAINT fk9tdmykfd04quwa2xhkxh3vexr FOREIGN KEY (empresa_id) REFERENCES public.empresa(empresa_id);


--
-- TOC entry 2091 (class 2606 OID 17100)
-- Name: user_role fka68196081fvovjhkek5m97n3y; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.user_role
    ADD CONSTRAINT fka68196081fvovjhkek5m97n3y FOREIGN KEY (role_id) REFERENCES public.role(role_id);


--
-- TOC entry 2082 (class 2606 OID 17105)
-- Name: empresa_endereco fka85d4u3hikfls04sjqjy0y2oq; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.empresa_endereco
    ADD CONSTRAINT fka85d4u3hikfls04sjqjy0y2oq FOREIGN KEY (endereco_id) REFERENCES public.endereco(endereco_id);


--
-- TOC entry 2090 (class 2606 OID 17110)
-- Name: servico_categoria fkb4sq6mrdeigugo7524dw5o1bd; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.servico_categoria
    ADD CONSTRAINT fkb4sq6mrdeigugo7524dw5o1bd FOREIGN KEY (empresa_id) REFERENCES public.empresa(empresa_id);


--
-- TOC entry 2094 (class 2606 OID 17115)
-- Name: usuario_endereco fkd5n43mrdai9y34h0fj5t7sp7t; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.usuario_endereco
    ADD CONSTRAINT fkd5n43mrdai9y34h0fj5t7sp7t FOREIGN KEY (usuario_id) REFERENCES public.usuario(usuario_id);


--
-- TOC entry 2081 (class 2606 OID 17120)
-- Name: animal fkgsmdg0fb7a70kuahxl2tccb00; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.animal
    ADD CONSTRAINT fkgsmdg0fb7a70kuahxl2tccb00 FOREIGN KEY (usuario_id) REFERENCES public.usuario(usuario_id);


--
-- TOC entry 2083 (class 2606 OID 17125)
-- Name: empresa_endereco fkhm6iob1s4j0lw02584fjd8i0s; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.empresa_endereco
    ADD CONSTRAINT fkhm6iob1s4j0lw02584fjd8i0s FOREIGN KEY (empresa_id) REFERENCES public.empresa(empresa_id);


--
-- TOC entry 2095 (class 2606 OID 17130)
-- Name: usuario_endereco fkjvvarltxgpsvf9nkpdxaira7d; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.usuario_endereco
    ADD CONSTRAINT fkjvvarltxgpsvf9nkpdxaira7d FOREIGN KEY (endereco_id) REFERENCES public.endereco(endereco_id);


--
-- TOC entry 2092 (class 2606 OID 17135)
-- Name: user_role fknar8ltv71sf5lmp9b1duaydaq; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.user_role
    ADD CONSTRAINT fknar8ltv71sf5lmp9b1duaydaq FOREIGN KEY (usuario_id) REFERENCES public.usuario(usuario_id);


--
-- TOC entry 2086 (class 2606 OID 17140)
-- Name: ordem_servico fkohi8bbf8qk5e5mu96w6j015is; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.ordem_servico
    ADD CONSTRAINT fkohi8bbf8qk5e5mu96w6j015is FOREIGN KEY (servico_id) REFERENCES public.servico(servico_id);


--
-- TOC entry 2087 (class 2606 OID 17145)
-- Name: ordem_servico fksbx0hj3k6yjosfysvv97qq8hl; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.ordem_servico
    ADD CONSTRAINT fksbx0hj3k6yjosfysvv97qq8hl FOREIGN KEY (animal_id) REFERENCES public.animal(animal_id);


-- Completed on 2018-11-25 20:34:09 -02

--
-- PostgreSQL database dump complete
--

